---
layout: post
title: MapBox 想要制作世界上最漂亮的地图
published: true
author: admin
comments: true
date: 2013-05-22 06:05:24
tags: [ ]
categories:
    - uncategorized
permalink: "1154"
---


MapBox 最初是与 OpenStreetMaps 合作的开源项目，后来开始独立发展。当 Google 开始为地图 API 收费的时候，Mapbox 获得了巨大的发展机会。它的客户曾有 NPR、卫报、绿色和平组织和 FCC ，如今它为 Foursquare、Evernote 等公司提供地图服务。最近，MapBox 开始了一项野心勃勃的计划——构建世界上最漂亮的地图。它有什么秘密武器？Wired 网站采访了公司的高管。

如果放大观察我们所使用的卫星地图，你可能会发现接缝，地表颜色的突然变化，以及某些非常模糊的区域。这是因为它是由不同来源的图片拼接起来的。对于 MapBox 来说，消灭这些瑕疵是一种使命。

&nbsp;

一直以来，MapBox 的地图使用的是 OpenStreetMap 的矢量数据。但是从 2012 年 12 月开始，在数据分析师 Chris Herwig 的带领下，公司发布了第一版的卫星地图。今年 2 月，MapBox 雇佣了图形专家 Charlie Loyd，以帮助他们完善产品。在加入 Mapbox 之前，Charlie Loyd 已经着手开发制作漂亮卫星图的方法。他在 Twitter 上的一副对比图引起了公司的兴趣，并很快被聘用。

Mapbox 使用的数据来自 NASA 的 LANCE-MODIS 数据系统。“在新版中，我们处理了两年的图像，这些图像捕获自 2011 年 1 月 1 日到 2012 年 12 月 31 日，”Loyd 说，“这包括了 33900 个 16 万像素的卫星图片，总共超过 5,687,476,224,000 个像素。我们将其缩减到了大概 50 亿个像素”。

他们用了 30 至 40 个服务器，从 NASA 下载的压缩数据达到 0.6 TB。在此过程中，NASA 很积极的进行了配合。Chris Herwig 对此心存感激，“当提到开放政府的时候，人们谈论的都是 API。但我们真正需要的是政府有保证大规模下载的基础设施。”

当 Mapbox 获得这些数据后，他们需要处理这些图像，去掉云层、太阳耀光和大气雾霾。通常的做法是，选择某个区域天气最好的时刻，然后将它们拼接，但是这样会使地图上出现接缝。为解决这个问题，Mapbox 采用了特别的方法。他们将某一个地区的所有图片叠加，然后依据清晰度重新排列每一行的像素。“我们处理世界上的每一个像素”，Loyd 说。他们选出最清晰的像素，使其成为地图上的固定像素。这是一项规模庞大的工作。

除了清晰度之外，Mapbox 还考虑到地层上的颜色。他们用技术确保图片展示的是植物生长最旺盛的时候。“这是完全自然的产品，”Loyd 说，“每个像素都是空中摄像头捕获的真实像素，但它又是完全合成的。”

他们的目标是，一个理想化的无云层星球，处于永恒的夏季。

在公司的 CEO Eric Gundersen 看来，这个项目的意义不仅仅是做出漂亮的地图，更重要的是展示了自己快速处理海量数据的能力。这是一个软件公司的优势所在。另外，公司认为，清晰的卫星地图有助科学研究，也对大型的商业公司有帮助。

目前，Mapbox 拥有 30 名职工，但它有信心与大型的科技公司竞争。Eric Gundersen 说，“我们能够做到这些，依靠的是开源代码和开源数据，我们会从他们那里夺走客户。”